<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ä¸–ç•Œã®ã€Œæ„›ã—ã¦ã‚‹ã€</title>
  <style>
    body {
      text-align: center;
      font-family: sans-serif;
      background: #f0f9ff;
    }
    #heart-btn {
      font-size: 4rem;
      cursor: pointer;
      margin-top: 100px;
      transition: transform 0.2s;
      position: relative;
    }
    #heart-btn:hover {
      transform: scale(1.2);
    }
    .love-text {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2rem;
      color: #e63946;
      animation: floatUp 2.5s forwards;
      white-space: nowrap;
    }
    @keyframes floatUp {
      0%   { opacity: 1; bottom: 60px; }
      100% { opacity: 0; bottom: 200px; }
    }
    #country-info {
      margin-top: 20px;
      font-size: 1.2rem;
      color: #333;
    }
  </style>
</head>
<body>
  <h1>ğŸŒ ä¸–ç•Œã®ã€Œæ„›ã—ã¦ã‚‹ã€</h1>
  <div id="heart-btn">â¤ï¸</div>
  <div id="country-info"></div>
  <div id="container"></div>

  <script>
    let data = [];

    // JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
    fetch("countries.json")
      .then(res => res.json())
      .then(json => { data = json; });

    const btn = document.getElementById("heart-btn");
    const container = document.getElementById("container");
    const countryInfo = document.getElementById("country-info");

    btn.addEventListener("click", () => {
      if (data.length === 0) return;

      const random = data[Math.floor(Math.random() * data.length)];

      // ä¸Šã«æµ®ã‹ã¶ãƒ†ã‚­ã‚¹ãƒˆï¼ˆæ„›ã—ã¦ã‚‹ï¼‰
      const text = document.createElement("div");
      text.className = "love-text";
      text.style.bottom = "60px"; // ãƒãƒ¼ãƒˆã®ã™ãä¸Šã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆ
      text.innerText = random.text;
      btn.appendChild(text);

      // ä¸‹ã«å›ºå®šè¡¨ç¤ºã™ã‚‹å›½æƒ…å ±
      countryInfo.innerText = `${random.flag} ${random.country}ï¼ˆ${random.language}ï¼‰`;

      // ä¸€å®šæ™‚é–“ã§å‰Šé™¤
      setTimeout(() => {
        text.remove();
      }, 2500);
    });
  </script>
</body>
</html>
